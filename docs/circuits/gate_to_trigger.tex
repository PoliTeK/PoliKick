\begin{tikzpicture}
	% Paths, nodes and wires:
	\draw (7, 4) to[american resistor, l={$R$}, label distance=0.02cm] (7, 2);
	\draw (7, 4) to[capacitor, l={$C$}, label distance=0.02cm] (5, 4);
	\draw[draw] (7, 4) -- (10, 4);
	\draw (9, 2) to[empty diode, l_={$D$}, label distance=0.02cm] (9, 4);
	\draw node[sground] at (7, 2) {};
	\draw node[sground] at (9, 2) {};
	\draw node[circ] (N1) at (5, 4) {} node[anchor=east] at (N1.west){$v_i$};
	\draw node[op amp] at (11.19, 4.49) {};
	\draw (9, 6.25) to[american resistor, l={$R_b$}, label distance=0.02cm] (11, 6.25);
	\draw (9, 6.25) to[american resistor, l={$R_a$}, label distance=0.02cm] (7, 6.25);
	\draw node[vcc] (N2) at (11, 6.25) {} node[anchor=south] at (N2.north){$V_{CC}$};
	\draw node[sground] (N3) at (7, 6.25) {};
	\draw[draw] (12.38, 4.49) -| (13, 4.5);
	\draw node[ocirc] (Vo) at (13, 4.5) {} node[anchor=west] at (Vo.east){$v_o$};
	\draw[draw] (10, 4.98) -| (9, 6.25);
	\draw node[circ] (N4) at (7, 4) {} node[anchor=south] at (N4.north){$v_+$};
	\draw node[circ] (N5) at (9, 6.25) {} node[anchor=south] at (N5.north){$V_\text{REF}$};
\end{tikzpicture}